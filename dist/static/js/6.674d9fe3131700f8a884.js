webpackJsonp([6],{NlQN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{mpId:""}},methods:{mpChange:function(t){this.$store.dispatch("MP_REPLY_SET_MPID",t).then(function(t){console.log(t)})},deleteRow:function(t){var e=this;this.$store.dispatch("MP_REPLY_DELETE",t).then(function(t){t.ok&&e.$message.success("删除成功")})},onSubmit:function(){this.$store.dispatch("MP_REPLY_LIST").then(function(t){console.log(t)})},cellMouseEnter:function(t,e,n,a){},handleSizeChange:function(t){this.$store.dispatch("MP_REPLY_SIZE_CHG",t),this.$store.dispatch("MP_REPLY_LIST")},handleCurrentChange:function(t){this.$store.dispatch("MP_REPLY_PAGE_CHG",t),this.$store.dispatch("MP_REPLY_LIST")}},computed:{mpList:function(){return this.$store.getters.mpConfig.list},total:function(){return this.$store.getters.mpReply.total},params:function(){return this.$store.getters.mpReply.params},replies:function(){return this.$store.getters.mpReply.list}},created:function(){var t=this;this.$store.dispatch("MP_CONFIG_LIST").then(function(e){var n=e.data.data;n.length>0&&(t.mpChange(n[0].id),t.mpId=n[0].id)})}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"box query-box"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.params}},[n("el-form-item",{attrs:{label:"公众号"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.mpChange},model:{value:t.mpId,callback:function(e){t.mpId=e},expression:"mpId"}},t._l(t.mpList,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{attrs:{placeholder:"标题"},model:{value:t.params.title,callback:function(e){t.$set(t.params,"title",e)},expression:"params.title"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),n("router-link",{attrs:{to:"/mp-reply/add"}},[n("el-button",[t._v("添加")])],1)],1)],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.replies,"max-height":"650"},on:{"cell-mouse-enter":t.cellMouseEnter}},[n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"类型",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.type?[t._v("\n          文章\n        ")]:1===e.row.type?[t._v("\n          文本\n        ")]:[t._v("\n          图片\n        ")]]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"keyword",label:"关键字",width:"220"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content",label:"回复",width:"220"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.deleteRow(e.row.id)}}},[t._v("\n          移除\n        ")]),t._v(" "),n("router-link",{attrs:{to:"/mp-config/"+e.row.id}},[n("el-button",{attrs:{type:"text",size:"small"}},[t._v("\n          编辑\n        ")])],1)]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.params.page,"page-sizes":[5,10,20,50,100],"page-size":t.params.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var r=n("VU/8")(a,l,!1,function(t){n("xGfC")},"data-v-79ae026b",null);e.default=r.exports},xGfC:function(t,e){}});
//# sourceMappingURL=6.674d9fe3131700f8a884.js.map